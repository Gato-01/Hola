<section class="vh-100 d-flex align-items-center">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5">
        <!-- Logo y título -->
        <div class="text-center mb-4">
          <a class="d-flex align-items-center justify-content-center text-decoration-none fs-3 fw-semibold text-dark">
            <img
              src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg"
              alt="logo"
              class="me-2"
              width="32"
              height="32"
            />
            Tiendita
          </a>
        </div>

        <!-- Tarjeta del formulario -->
        <div class="card shadow-sm rounded-lg">
          <div class="card-body p-4">
            <h1 class="h4 fw-bold text-center mb-4">Sign in to your account</h1>

            <!-- Botón Google -->
            <button type="button" class="btn btn-outline-secondary w-100 mb-3 d-flex align-items-center justify-content-center">
              <i class="bi bi-google fs-5 me-2"></i>
              Log in with Google
            </button>

            <!-- Separador -->
            <div class="position-relative text-center my-3">
              <hr class="mt-0 mb-0">
              <span class="position-absolute top-50 start-50 translate-middle bg-white px-2">or</span>
            </div>

            <!-- Formulario -->
        <!-- Formulario -->
<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <!-- Mensaje de error -->
  <div *ngIf="errorMessage" class="alert alert-danger mb-3">
    {{ errorMessage }}
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Your email</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="form-control"
      placeholder="name@company.com"
      [ngClass]="{ 'is-invalid': loginForm.get('email')?.invalid && loginForm.get('email')?.touched }"
    />
    <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="invalid-feedback">
      <div *ngIf="loginForm.get('email')?.errors?.['required']">Email es requerido</div>
      <div *ngIf="loginForm.get('email')?.errors?.['email']">Ingresa un email válido</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Password</label>
    <input
      type="password"
      id="password"
      formControlName="password"
      class="form-control"
      placeholder="••••••••"
      [ngClass]="{ 'is-invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched }"
    />
    <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="invalid-feedback">
      Password es requerido
    </div>
  </div>

              <div class="d-flex justify-content-between align-items-center mb-4">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="remember"
                  />
                  <label class="form-check-label" for="remember">
                    Remember me
                  </label>
                </div>
                <a href="#" class="link-primary small">Forgot password?</a>
              </div>

            <button 
  type="submit" 
  class="btn btn-primary w-100 mb-3"
  [disabled]="isLoading"
>
  <span *ngIf="!isLoading">Sign in</span>
  <span *ngIf="isLoading">
    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    Procesando...
  </span>
</button>

              <p class="text-center mb-0 small text-muted">
                Don’t have an account yet?
                <a routerLink="/signup" class="link-primary">Sign up</a>
              </p>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
